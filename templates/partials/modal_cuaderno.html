<!-- templates/partials/modal_cuaderno.html -->
<div class="bg-[#1a1d26] border border-white/10 rounded-2xl shadow-2xl overflow-hidden fade-in-up">
    <div class="px-6 py-4 border-b border-white/5 flex justify-between items-center">
        <h3 class="text-sm font-bold text-white uppercase tracking-widest">Nuevo Cuaderno</h3>
        <button @click="modalOpen = false" class="text-slate-500 hover:text-white">
            <i class="ph ph-x"></i>
        </button>
    </div>

    <form hx-post="/api/cuadernos/create" 
          hx-target="#contextual-sidebar" 
          hx-swap="innerHTML"
          hx-indicator="#sidebar-indicator"
          @submit="aiLoading = true"
          @htmx:after-request="modalOpen = false; aiLoading = false"
          class="p-6">
        
        <input type="hidden" name="cat_id" value="{{ cat_id }}">
        
        <div class="mb-6">
            <label class="block text-[10px] text-slate-500 uppercase font-bold mb-2">Nombre del Cuaderno</label>
            <input type="text" 
                   name="nombre" 
                   required 
                   autofocus
                   placeholder="Ej: Notas de IngenierÃ­a"
                   class="w-full bg-[#0f1117] border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:border-indigo-500 outline-none transition-all">
        </div>

        <button type="submit" 
                class="w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded-xl transition-all shadow-lg shadow-indigo-500/20 flex items-center justify-center gap-2">
            <i class="ph ph-book-bookmark"></i>
            <span>Crear Cuaderno</span>
        </button>
    </form>
</div>